(()=>{"use strict";function e(e,t,n,o){var r=document.querySelector("#card-template").content.cloneNode(!0),c=r.querySelector(".card__title"),p=r.querySelector(".card__image"),u=r.querySelector(".card__delete-button"),a=r.querySelector(".card__like-button");return c.textContent=e.name,p.src=e.link,p.alt=e.alt,u.addEventListener("click",(function(e){t(e)})),a.addEventListener("click",(function(e){n(e)})),p.addEventListener("click",(function(){var t=e.link,n=e.name;o(t,n)})),r}function t(e){e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),0),document.addEventListener("keydown",o)}function n(e){e.classList.remove("popup_is-opened"),setTimeout((function(){e.classList.remove("popup_is-animated")}),400),document.removeEventListener("keydown",o)}function o(e){"Escape"===e.key&&n(document.querySelector(".popup_is-opened"))}function r(e){e.target.closest(".card").remove()}function c(e){e.target.closest(".card__like-button").classList.toggle("card__like-button_is-active")}document.addEventListener("click",(function(e){var t=document.querySelector(".popup_is-opened");e.target.classList.contains("popup")&&n(t)}));var p=document.querySelector(".popup_type_image"),u=p.querySelector(".popup__image"),a=p.querySelector(".popup__caption");function i(e,n){var o=e,r=n;u.src=o,a.textContent=r,t(p),p.style.backgroundColor="rgba(0, 0, 0, .9)"}var d=document.querySelector(".places__list");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Фотография Архыз"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Фотография Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Село Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Место камчатка"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Холмогорский район"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"}].forEach((function(t){var n=e(t,r,c,i);d.appendChild(n)}));var l=document.querySelector(".profile__title"),s=document.querySelector(".profile__description"),_=l.innerText,m=s.innerText;document.querySelector(".popup__input_type_name").value=_,document.querySelector(".popup__input_type_description").value=m;var y=document.querySelector(".profile__edit-button"),v=document.querySelector(".popup_type_edit"),f=document.querySelector(".profile__add-button"),k=document.querySelector(".popup_type_new-card");y.addEventListener("click",(function(){t(v)})),f.addEventListener("click",(function(){t(k)})),document.addEventListener("keydown",(function(e){"+"===e.key&&t(k)}));var q=v.querySelector(".popup__form"),S=document.querySelector(".popup__input_type_name"),L=document.querySelector(".popup__input_type_description");q.addEventListener("submit",(function(e){e.preventDefault();var t=L.value,o=S.value;l.textContent=o,s.textContent=t,n(v)}));var g=v.querySelector(".popup__close"),E=k.querySelector(".popup__close"),b=p.querySelector(".popup__close");g.addEventListener("click",(function(){n(v)})),E.addEventListener("click",(function(){n(k)})),b.addEventListener("click",(function(){n(p)}));var h=document.querySelector('form[name="new-place"]'),x=h.querySelector(".popup__input_type_card-name"),j=h.querySelector(".popup__input_type_url");h.addEventListener("submit",(function(t){t.preventDefault();var o=x.value,p=e({name:o,link:j.value,alt:o},r,c,i);d.prepend(p),x.value="",j.value="",n(k)}))})();